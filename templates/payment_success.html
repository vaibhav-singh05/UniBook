{% extends 'base.html' %}

{% block title %}
Payment Successful
{% endblock %}

{% block body %}
<div class="container text-center mt-5">
    <h1 class="text-success">✅ Payment Successful!</h1>
    <p class="lead">Thank you for your purchase. Your payment has been processed successfully.</p>

    {% if order %}
        <div class="mt-4 border rounded p-3 bg-light">
            <h4>Order Summary</h4>
            <p><strong>Order ID:</strong> {{ order.razorpay_order_id }}</p>
            <p><strong>Payment ID:</strong> {{ order.razorpay_payment_id }}</p>
            <p><strong>Amount Paid:</strong> ₹{{ order.amount_in_rupees }}</p>
            
            <h5 class="mt-3">Purchased Items:</h5>
            <ul class="list-group">
                {% for item in order.items.all %}
                    <li class="list-group-item d-flex justify-content-between">
                        <span>{{ item.product.title }}</span>
                        <span>Qty: {{ item.quantity }}</span>
                    </li>
                {% endfor %}
            </ul>
        </div>
    {% endif %}

    <a href="/" class="btn btn-primary mt-4">Back to Home</a>
</div>
{% endblock %}
